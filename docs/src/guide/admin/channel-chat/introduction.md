# チャンネルチャット: 展開ガイド

このガイドでは、チャンネルチャットの展開方法について説明します．

## チャンネルチャットとは

プレイヤー間でチャンネルを作成し，特定のプレイヤー間で，チャットを共有できる機能です．

詳しい機能については [プレイヤー向けガイド版](../../player/channel-chat/about.md) を参照してください．

## チャンネルチャットの展開準備

チャンネルチャットを展開するには，LunaticChat の設定ファイル `config.yml` でチャンネルチャット機能を有効化する必要があります．

1. サーバーを停止します．
2. `plugins/LunaticChat/config.yml` を開きます．
3. `features.channelChat.enabled` を `true` に設定します．
4. サーバーを再起動します．

以上でチャンネルチャット機能が有効化され，プレイヤーがチャンネルチャットを使用できるようになります．

## チャンネルチャットの設定

チャンネルチャットに関する設定項目は以下の通りです．

- `features.channelChat.maxChannelsPerPlayer`: 1人のプレイヤーが作成できるチャンネルの最大数を指定します．
- `features.channelChat.maxMembersPerChannel`: 1つのチャンネルに参加できるメンバーの最大数を指定します．
- `features.channelChat.maxMembershipPerPlayer`: 1人のプレイヤーが参加できるチャンネルの最大数を指定します．

デフォルトは `0` に設定されており，制限はありません．

::: tip 設定のおすすめは?

チャンネルチャット機能を活発に使用したい場合は，これらの値を高めに設定することをお勧めします．

ただし，サーバーのパフォーマンスに影響を与える可能性があるため，サーバーのリソース状況に応じて適切に設定してください．

おすすめの設定は次のとおりです．

- `features.channelChat.maxChannelsPerPlayer`: `3` 〜 `5`
- `features.channelChat.maxMembersPerChannel`: `20` 〜 `50`
- `features.channelChat.maxMembershipPerPlayer`: `5` 〜 `10`

:::

## チャンネルチャットのログ

::: warning CoreProtect などのプラグインとの互換性

LunaticChat では，チャンネルチャット機能に限り v0.7.0 以降 CoreProtect などのログ記録プラグインと互換性はありません．

:::

チャンネルチャットのログ機能はデフォルトで有効になっています．

詳しくは [チャンネルチャット: ログ](logs.md) を参照してください．

## チャンネルの管理

基本的に，[チャンネルの管理はプレイヤー自身が行います](../../player/channel-chat/moderation.md)．

ただし，サーバー管理者として，以下の点に注意してください：

- サーバー管理者はすべてのチャンネルに対してオーナー権限を持ちます．操作が必要な場合は，適切に対応してください．
- サーバーのパフォーマンスを維持するために，必要に応じてチャンネル数やメンバー数の制限を設定してください．
- 不適切なチャンネルやメンバー行動が発生した場合は，適切な措置を講じてください．

また，それらのチャンネルの管理によるトラブルを回避したい場合は `/lc channel ban` などのモデレートコマンドの制限を検討してください．

## チャンネルチャットを捕捉してしまうプラグイン

基本的に CoreProtect などのログ記録プラグインは，LunaticChat のチャンネルチャットメッセージを捕捉しません．

ただし，Paper API の `originalMessage()` を使用してメッセージを取得しているプラグインは，LunaticChat のチャンネルチャットメッセージを捕捉してしまう可能性があります．
