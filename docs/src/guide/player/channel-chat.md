# チャンネルチャット <Badge type="tip" text="v0.6.0" /> <Badge type="warning" text="試験的" />

特定のプレイヤー間で，チャットを共有できる機能です．

::: warning 試験的機能

この機能は現在，試験的に実装されており，今後のアップデートで仕様が変更される可能性があります．

規模が大きい機能なので，一気に実装はせず段階的な展開を予定しています．

詳しい実装計画は [ロードマップ (m1sk9/LunaticChat #54)](https://github.com/m1sk9/LunaticChat/issues/54) をご覧ください．

:::

::: tip この機能はサーバーで有効化する必要があります

チャンネルチャットがサーバーで無効化されている場合，これらの機能は使用できません．

サーバー管理者にお問い合わせください．

:::

## 使い方

### チャンネルを作成する

チャンネルチャットを利用するには，まずチャットチャンネルを作成する必要があります．

`/lc channnel create` コマンドを使用して，チャットチャンネルを作成します．

```
/lc channel create <チャンネルID> <チャンネル名> [チャンネルの説明] [プライベート設定]
```

- `<チャンネルID>` はチャンネルのIDを指定します．
- `<チャンネル名>` はチャンネルの名前を指定します．
- `[チャンネルの説明]` はチャンネルの説明を指定します (省略可能)．
  - `/lc channel list` コマンドでチャンネル一覧を表示した際に，説明が表示されます．
- `[プライベート設定]` はチャンネルの公開設定を指定します．
  - `true` を指定するとプライベートチャンネルとして作成され，招待されたプレイヤーのみが参加できます．
  - `false` を指定するか，省略した場合はパブリックチャンネルとして作成され，誰でも参加できます．

::: tip チャンネルIDの要件

チャンネルIDは次の要件に従う必要があります:

- 3文字以上，30文字以下であること
- 英数字，アンダースコア（_），ハイフン（-）のみを含むこと

:::

::: warning チャンネル名・チャンネルの説明を入力する際の注意点

チャンネル名・チャンネルの説明を入力する際は，引数を `"` (ダブルクォーテーション) で囲む必要があります．

実行例は次のとおりです:

```
/lc channel create pvp_channel "PvP大好きクラブ" "PvPが大好きな人たちの集まり" false
```

:::

チャンネルが正常に作成されると，チャットで確認メッセージが表示されます．

### チャンネルに参加する

作成されたチャンネルに参加するには，`/lc channel join` コマンドを使用します．

```
/lc channel join <チャンネルID>
```

チャンネルに参加すると，チャットモードが全体チャットからチャンネルチャットに切り替わります．

### チャンネル一覧を表示する

参加可能なチャンネル一覧を表示するには，`/lc channel list` コマンドを使用します．

```
/lc channel list
```

チャット欄に参加可能なチャンネルの一覧が表示されます．クリックするか [`/lc channel join`](#チャンネルに参加する) コマンドを使用して，チャンネルに参加できます．

## プライベートチャンネル

プライベートチャンネルは，招待されたプレイヤーのみが参加できるチャットチャンネルです．

::: tip プライベートチャンネルに対する権限

プライベートチャンネルに対する権限は，チャンネルの作成者にのみ付与されます．

:::

### プレイヤーを招待する

プライベートチャンネルにプレイヤーを招待するには，`/lc channel invite` コマンドを使用します．

なお，招待するにはチャンネルの作成者(オーナー)もしくは管理者である必要があります．

```
/lc channel invite <チャンネルID> <プレイヤー名>
```

### 再参加する

プライベートチャンネルから退出した後，再度参加するには，[`/lc channel join`](#チャンネルに参加する) コマンドを使用します．

一度参加したプライベートチャンネルには招待なしで再参加できます．

::: tip 参加できないようにするには

プライベートチャンネルから退出した後，再度参加できないようにするには，`/lc channel kick` コマンドを使用して，プレイヤーをチャンネルから強制退出させる必要があります．

詳しくは [チャンネルの管理]() をご覧ください．

:::

## チャンネルチャットに伴う挙動

### チャットモードについて

LunaticChat では，チャットモードが以下の2種類あります:

1. 全体チャットモード: すべてのプレイヤーとチャットを共有します．
2. チャンネルチャットモード: 参加している特定のチャンネル内のプレイヤーとチャットを共有します．

チャンネルチャットモード中は，全てのチャットが参加しているチャンネルのプレイヤーのみに表示され，全体チャットには表示されません．

全体チャットモードに切り替えるには一度チャンネルから退出する必要があります．

現在のチャットモードは `/chatmode` コマンドで確認できるほか，サーバーにログインした際にも表示されます．

::: tip 一時的に全体チャットを送信する

チャンネルチャットモード中に，一時的に全体チャットを送信したい場合は，メッセージの先頭に `!` を付けて送信します．

```
!こんにちは、みんな元気？
```

:::

#### 一時的にチャットモードを切り替える

チャットモードを一時的に切り替えるには，`/chatmode toggle` コマンドを使用します．

このコマンドで切り替えた場合はチャンネルの入退出なしで，チャットモードを切り替えることができます．

ただし，サーバーに再接続した際には元のチャットモードに戻ります．


